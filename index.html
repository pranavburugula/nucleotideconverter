<!DOCTYPE html>
<html>
	<head>
		<title>Base 4 nucleotide ASCII translator</title>
	</head>
	<body>
		Text to nucleotide:
		<br>
		<input type="text-area" width="500" height="800" id="inputText" />
		<!--<input type="button" name="convertText" id="convert" value="encode" onclick='asciiToNucleotide(outputNuc);'>-->
		<input type="button" name="convertText" id="convert" value="encode" onclick='openWindow();'>
		<input type="text-area" width="500" height="800" id="outputNuc">
		<br>
		<br>
		Nucleotide to text:
		<br>
		<input type="text-area" width="500" height="800" id="inputNuc">
		<input type="button" name="convertNuc" id="convertNuc" value="decode" onclick='nucleotideToAscii(outputText);'>
		<!--<input type="button" name="convertNuc" id="convertNuc" value="decode" onclick='openWindow();'>-->
		<input type="text-area" width="500" height="800" id="outputText">
		
		<script>
			function openWindow(){
				window.open('open.html');
			}
		</script>
		<script>
			function asciiToNucleotide(output) {
				var inputText = document.getElementById("inputText").value;
				var base4string = '';
				for (i in inputText) {
					base4string += ("AAAA" + inputText.charCodeAt(i).toString(4).replace(/0/g, "A").replace(/1/g, "T").replace(/2/g, "G").replace(/3/g, "C")).slice(-4);
				}
				output.value = base4string;
			}

			function nucleotideToAscii(output) {
				output.value = '';
				var inputNuc = document.getElementById("inputNuc").value.replace(/A/g, 0).replace(/T/g, 1).replace(/G/g, 2).replace(/C/g, 3);
				for (i in inputNuc) {
					if (!(i % 4)) {
						output.value += String.fromCharCode(parseInt(inputNuc.substr(i, 4), 4));
					}
				}
			}
		</script>
	</body>
</html>
